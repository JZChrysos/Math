\documentclass{amsart}
\input{C:/Users/jzchr/MathDocuments/preamble_general.tex}

\usepackage{quiver}

\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\St}{St}
\DeclareMathOperator{\st}{st}

\title{Topology Notes}
\author{Jalen Chrysos}

\begin{document}
	
	\maketitle
	\begin{abstract}
		These are my notes for Topology I-II-III (Math 317-319) at UChicago, 2025-2026.
	\end{abstract}
	
	\tableofcontents
	
	\newpage
	
	\section*{Topology I with Danny Calegari}
	
	This is an Algebraic Topology course.\\
	
	Housekeeping:
	\begin{itemize}
		\item HW due Thursday midnight.
		\item Take-home midterm and final will replace HW.
		\item Textbook: \href{https://pi.math.cornell.edu/~hatcher/AT/AT.pdf}{Hatcher}.
		\item Collaboration is encouraged on homework (but give credit where it is due).
		\item Grades will be roughly 50\% homework 50\% exams, with some generous weighting.
		\item Office Hours: Thursday 5-6 p.m. in Eckhart E7 (basement).
	\end{itemize}
	
	
	\subsection{Homotopy}
	
	Rather than equivalence by homeomorphism, which is ``too fine to be useful,'' we'll use the coarser equivalence of homotopy.
	
	We'll also be looking at a lot of computable information about topological spaces. \\
	
	Suppose $f_0,f_1:X\to Y$ are two (continuous) maps between topological spaces $X$ and $Y$. We say $f_0,f_1$ are \textit{homotopic} if one can be continuously turned into the other, i.e. if there is a continuous map
	$$
	F:[0,1]\to \Hom(X,Y)
	$$
	for which $F(0)=f_0,F(1)=f_1$. Such an $F$ is a homotopy. We write $f_0\simeq f_1$.
	
	Two spaces $X$ and $Y$ are \textit{homotopy-equivalent} if there is a map $f:X\to Y$ that is an isomorphism ``up to homotopy,'' i.e. there is a map $g:Y\to X$ for which $f\circ g \simeq 1_Y$ and $g\circ f \simeq 1_X$. 
	
	Homotopy equivalence is indeed an equivalence relation (not too hard to show). Equivalence of maps is also stable under composition, which makes homotopy classes of spaces and maps a category.
	
	If $f_0,f_1:X\to Y$ and $A\subseteq X$ is a subset on which $f_0$ and $f_1$ agree, and additionally there is a homotopy $F$ which transforms $f_0$ into $f_1$ while remaining constant on $A$, then we say $f_0\simeq f_1$ relative to $A$. \\
	
	We say that a space $X$ is \textit{contractible} if it is homotopy-equivalent to a single point. For example, $\R^n$ is contractible, as constant maps on $\R^n$ are homotopic with the identity map by straight-line contraction. 
	
	Another example: given $f:X\to Y$, there is a \textit{mapping cylinder} $M_f$ which is $X\times [0,1] \coprod Y$ under the gluing equivalence $(x,1)\sim f(x)$. Then $M_f\simeq Y$ via the maps
	$$
	h_0: (x,t) \mapsto f(x), \;\;\; h_1 : y \mapsto y
	$$
	The thing that must be checked is that $h_1\circ h_0:M_f\to M_f$ is homotopy-equivalent to the identity on $M_f$. This is an example of \textit{deformation retraction}, which means that it is a homotopy relative to $Y$.\\
	
	\subsection{CW Complexes}
	
	General topology is difficult to say much about because of all the pathological cases. So we'll focus mainly on \textit{nice} topological spaces, and in particular \textit{CW-complexes}.\\
	
	A \textit{CW-complex} is built from cells of different dimensions and attaching maps. Each cell is a pair $(D^n,S^{n-1})$ consisting of a ball and its surface. We build up the complex by a ``skeleton'' $X_0\subseteq X_1\subseteq \dots$ where $X_n$ consists of all the cells of dimension at most $n$ and their gluing instructions. The attaching map $\ph$ for a cell maps its boundary $S^{n-1}$ into $X^{n-1}$. 
	
	The topology on a CW-complex is the \textit{weak topology} (no relation to functional analysis) which says that $A$ is open iff $A\cap X^n$ is open for all $n$.
	
	Examples:
	\begin{itemize}
		\item A 0-dimensional CW-complex is just a collection of discrete points.
		\item A 1-dimensional CW-complex is essentially a graph (with possibly loops and multiple edges).
		\item Klein bottle, torus, two-holed torus etc. all have presentations as 2-dim CW complexes.
		\item One can write $\C\P^n$ as the union of a 0-cell, a 2-cell, a 4-cell, $\dots$, and a $2n$-cell, where gluing takes the boundary of each to the infinite line of the previous.
	\end{itemize}
	
	Some operations on CW complexes:
	\begin{itemize}
		\item \textit{Product}: $X\times Y$ is given by the union of all products of a cell in $X$ and a cell in $Y$. Its topology as a CW-complex (i.e. the weak topology) is the same as the product topology in cases where there are only a \textit{countable} number of cells in each or if one is locally compact, but in general the topology is actually finer.
		\item \textit{Quotient}: $X/A$, where $A$ is a \textit{subcomplex} of $X$ (i.e. a closed union of cells in $X$) that is also \textit{contractible}, is given by the union of cells in $X-A$ plus an additional 0-cell representing the image of all cells in $A$. Such a pair $(X,A)$ is called a CW pair.
		\item \textit{Suspension}: $SX$ is $X\times [0,1]$ where $(X,0)$ is identified and $(X,1)$ is identified.
		\item \textit{Cone}: $CX$ is $X\times [0,1]$ where $(X,1)$ is identified.
		\item \textit{Join}: $X\ast Y$ is the space $X\times I \times Y$ quotiented such that all $(x,0,Y)$ are identified and all $(X,1,y)$ are identified. In the case $X=Y=[0,1]$, the resulting $X\ast Y$ looks like a tetrahedron. One can think of the points of $X\ast Y$ as pairs $(x,y)\in X\times Y$ along with a weight $t\in [0,1]$, such that $(x,y,0)=x$ and $(x,y,1)=y$.
		\item \textit{Wedge}: $X\vee Y$ is $X\coprod Y$ with two specific points $x$ and $y$ identified.
		\item \textit{Smash}: $X\wedge Y$ is $X\times Y$ with $X\vee Y$ all identified.
	\end{itemize}
	
	An important example of a CW complex obtained this way is the $n$-simplex, which is the join of $n$ discrete points. \\
	
	One thing to note about the quotient is that $X/A \simeq X$.
	
	A CW-complex $X$ is connected (and path-connected) iff $X^1$ is a connected graph. Thus, if $X$ is connected then we can give a spanning tree $T$ of its 1-skeleton $X^1$. Every tree is contractible, thus one can take the quotient $X/T \simeq X$.
	
	 Moreover, the quotient has a very simple structure in its low-dimension cells: $Y:= X/T$ has $Y^0$ a single point and $Y^1$ a wedge of some circles. So we've shown that one can always put a connected CW-complex into this nice form while preserving its homotopy class.\\
	 
	 If $(X,A)$ is a CW pair and $f:A\to Y$ is some map into another CW complex (or any topological space), then one can form the space
	 $$
	 X\cup_f Y := X\times Y / (a \sim f(a)).
	 $$
	 And if $f,g:A\to Y$ are two homotopy-equivalent maps, then $X\cup_fY \simeq X\cup_g Y$. This shows in particular that in the construction of CW complexes, the homotopy-type of the complex only depends on the homotopy-classes of the attaching maps.\\
	 
	 Both of these facts can be deduced from the \textit{Homotopy Extension Property} for CW-pairs (try this!). $(X,A)$ has the HEP if for all spaces $Y$, every map $f:X\times 0 \cup A\times I\to Y$ factors through the inclusion into $X\times I$:
	 $$
	 \begin{tikzcd}
	 	{X\times I} \\
	 	\\
	 	{X\times 0 \cup A\times I} && Y
	 	\arrow["{\exists g}", dashed, from=1-1, to=3-3]
	 	\arrow[hook', from=3-1, to=1-1]
	 	\arrow["f"', from=3-1, to=3-3]
	 \end{tikzcd}
	 $$
	 That is, a partial homotopy $f:A\to Y$ can always be extended to a homotopy $g:X\to Y$, hence the name. The HEP is equivalent to the specific case for $f$ the identity map on $X\times 0 \cup A\times I$. Thus, to prove the HEP for CW-pairs, it suffices to show the following: \\
	 
	 \textbf{Proposition}: If $(X,A)$ is a CW pair then there is a retraction from $X\times I$ to $X\times 0 \cup A\times I$.
	 \begin{proof}
	 	If $X$ has dimension $n$, then $X=X^n$. We will produce by a series of retractions:
	 	$$
	 	X\times I  = X^n\times I \cup A \times I \to (X\cup 0)\times (X^{n-1}\times I \cup A \times I) \to (X\cup 0)\times (X^{n-2}\times I \cup A \times I) \to \dots
	 	$$
	 	In each step we only need to retract every $j$-cell onto its boundary. We can do this because it has an \textit{open side}. (check Hatcher to get the details straight later).
	 \end{proof}\\
	 
	 \subsection{The Fundamental Group} Let $X$ be a space. A path $f$ in $X$ is a map $I\to X$. A homotopy between paths $f,g$ is a homotopy (in the sense defined before) which fixes the endpoints of the paths (so it must be that $f(0)=g(0)$ and $f(1)=g(1)$ for this to be possible). We say that $f,g$ are homotopy-equivalent if one exists.
	 
	 Two paths can be composed (concatenated) if the end point of one is the start point of the other. This is denoted $f\ast g$, and corresponds to a path which does $f$ from $[0,\tfrac12]$ and then does $g$ from $[\tfrac12,1]$. If $f$ and $g$ are both \textit{loops} with $f\simeq f'$ and $g\simeq g'$, then 
	 $$
	 f\ast g \simeq f'\ast g'.
	 $$
	 This can be proven by drawing a picture. Basically the homotopies $f\to f'$ and $g\to g'$ can be concatenated.\\
	 
	 The \textit{fundamental group} of $X$, denoted $\pi(X,x)$, is made up of homotopy-classes of loops beginning and ending at $x\in X$. The operation is concatenation. The identity is given by the constant map and the inverse is given by $f^{-1}(t) := f(1-t)$. We can check that this is a genuine inverse by drawing a picture.
	 
	 We also have to check that $\ast$ is associative, i.e. $f\ast (g\ast h) \simeq (f\ast g)\ast h$. This can also be shown by a simple picture (we're essentially just changing the rate of movement along the image of the path in different segments).
	 
	 If $\pi(X,x)$ is trivial, we say $X$ is \textit{simply connected} (note that this does not depend on $x$). In general, the fundamental group only depends on the path-connected component of $X$ in which $x$ lies. If there is a path $\b:x\to y$ in $X$ then $\pi(X,x)$ is just $\b^{-1} \pi(X,y) \b$. This gives a group isomorphism between $\pi(X,x)$ and $\pi(X,y)$.\\
	 
	 Any map $f:X\to Y$ induces a group homomorphism between the fundamental groups:
	 $$
	 f_{*}:\pi(X,x)\mapsto \pi(Y,f(x))
	 $$
	 given by $f_{*}:\a \mapsto f\circ \a$. If $f\simeq g:X\to Y$, then $f_*$ and $g_*$ differ by an inner automorphism. Suppose $f,g$ are homotopic via $F:X\times I \to Y$, and let $\b(t) = F(x,t)$. Then $f_* = \b^{-1}g_*\b$. And in particular, if $f(x)=g(x)$, $\b$ is the constant path at $x$, so $f_* = g_*$. 
	 
	 If $X,Y$ are homotopy-equivalent and path-connected, then their fundamental groups are isomorphic: the composition
	 $$
	 (X,x)\xrightarrow{f} (Y,f(x))\xrightarrow{g} (X,g\circ f(x))
	 $$
	 is an isomorphism up to homotopy equivalence, therefore $(X,x)$ and $(Y,f(x))$ have isomorphic fundamental group.\\
	 
	 An example: let $T^n := (S^1)^n$. Or equivalently, $T^n = \R^n/\Z^n$. $\R^n$ is a covering space of $T^n$. The fundamental group of $T^n$ is $\Z^n$. $\GL_n(\Z)$ acts on $T^n$ in a natural way (these are outer automorphisms).\\
	 
	 \subsection{Covering Spaces} $\hat{X}$ is a \textit{covering space} of $X$ when there is a map $p: \hat{X}\to X$ such that for every $x\in X$ there is a neighborhood $U\subset X$ such that $p^{-1}(U)$ is homeomorphic to a union of disjoint copies of $U$ in $\hat{X}$. We say that such a $U$ is \textit{evenly covered} by $\hat{X}$.\\
	 
	 Examples:
	 \begin{itemize}
	 \item The classic example is that the infinite helix covers $S^1$ by projection. 
	 \item One could also cover $S^1$ by $S^1$ with a map $z\mapsto z^n$. The order of the covering is $n$.
	 \item $\R^n/\Z^n$ (the $n$-torus) is covered by $\R^n$ in the natural way.
	 \item Graphs can be covered by other graphs. The only thing that must be obeyed by the covering space is the local behavior near vertices.
	 \end{itemize}
	 
	 \noindent \textbf{Homotopy Lifting Property}: Let $p:\hat{X}\to X$ be a covering of $X$. If $f_t$ is a homotopy from $Y$ to $X$, then there is a lifting of $f_t$ to a homotopy $\hat{f_t}$ from $Y$ to $\hat{X}$, and $\hat{f_t}$ is \textit{uniquely determined} by $\hat{f_0}$.
	 
	 \begin{proof}
	 	Let $y\in Y$. $f_t(y)$ for $t\in [0,1]$ is a path in $X$. This path is covered by finitely many neighborhoods which are evenly covered by $\hat{X}$. Given $\hat{f_0}$, we have a single preimage set that we must choose for $\hat{f_0}(y)$. Now, to choose $\hat{f_t}(y)$ for the next $t\in [0,1]$, we choose the preimage set which intersects with the previous, etc. The fact that $p:\hat{X}\to X$ is continuous guarantees that we can do this and result in a continuous path in $\hat{X}$.
	 \end{proof}\\
	 
	 In the case that $Y$ is a single point, this shows that individual paths can always be lifted through coverings. It is important to note that loops may not remain loops when they are lifted, since the first and last points may both map to $x$ while not being the same.
	 
	 In the case $Y=[0,1]$, this is saying that entire homotopies of paths can be lifted. In contrast to the case of paths in general, two paths that are \textit{homotopic} will maintain their homotopy (and as a result their endpoints will stay together) when lifted. This implies that loops that are the identity element in $\pi(X,x)$ stay as the identity element in $\pi(\hat{X},p^{-1}(x))$.\\
	 
	 As the previous example implies, we have a correspondence between the fundamental groups
	 $$
	 p_*: \pi_1(\hat{X},\hat{x}) \to \pi_1(X,x).
	 $$	 
	 The important property to know here is that $p_*$ is \textit{injective}. That is, we can think of $\pi_1(\hat{X},\hat{x})$ as a \textit{subgroup} of $\pi_1(X,x)$.
	 
	 To show this, we'll first show that if $p_*(\a)=1$ then $\a=1$. This follows from the preceding discussion about homotopy lifting: the homotopy $p(\a)\simeq 1_X$ lifts to a homotopy between $\a$ and $1_{\hat{X}}$.\\
	 
	 \textbf{Lifting Criterion}: Let $Y$ be path connected and locally-path connected (CW complex suffices). Given $f:(Y,y)\to (X,x)$ with a covering $p:(\hat{X},\hat{x})\to (X,x)$, when is there a lift $\hat{f}:(Y,y)\to (\hat{X},\hat{x})$? The answer is that it exists iff the image of 
	 $$f_*:\pi_1(Y,y)\to \pi_1(X,x)$$
	 lands inside the subgroup $\pi_1(\hat{X},\hat{x})$. It is clearly necessary, but the interesting thing is that it's sufficient.
	 
	 \begin{proof}
	 	We construct $\hat{f}(z)$ by lifting $f(z)$ through $p$. The thing that needs to be checked is that it preserves homotopy classes of paths. \textbf{fill in later} 
	 \end{proof}\\
	 
	 \textbf{Classification of Covering Spaces:} If $X$ satisfies some basic properties (which connected CW complexes satisfy) then covering spaces $\hat{X}$ correspond exactly with subgroups of $\pi_1(X,x)$.\\
	 
	 To show this we will construct a \textit{Universal Cover} of $X$, which we denote $\tilde{X}$, whose fundamental group is trivial. All other coverings will appear as quotients of this universal cover.
	 
	 \begin{proof}
	 	\textbf{Step 1}: We define $\tilde{X}$ as the set of homotopy classes of paths starting at $x$. The covering map comes from
	 	$$
	 	p: \gamma \mapsto \gamma(1).
	 	$$
	 	The topology of $\tilde{X}$ will have open sets 
	 	$$
	 	U_{[\gamma]} := \{[\gamma \cdot \eta] : \eta \text{ is a path in $U$ extending $\gamma$}\}.
	 	$$
	 	for all \textit{simply-connected} open sets $U\subset X$.
	 	
	 	$\tilde{X}$ is path-connected because every $\gamma$ (i.e. every point in $\tilde{X}$) can be contracted to the identity.
	 	
	 	Now to show $\tilde{X}$ is simply-connected. (\textit{omitted}).\\
	 	
	 	\textbf{Step 2}: A \textit{Deck transformation} is a specific case of lifting in which the space $Y$ is \textit{also} $\hat{X}$, but with a different basepoint. The Deck transformations form a group under composition, called the \textit{Deck group} of $\hat{X}$, which we denote $G(\hat{X})$.
	 	
	 	We can show that that 
	 	$$G(\hat{X}) = N(\pi_1(\hat{X},\hat{x}))/\pi_1(\hat{X},\hat{x}).$$ This implies, in the case of the universal cover we just constructed, that the $G(\tilde{X}) = \pi_1(X,x)$. Now for any subgroup $H$ of $\pi_1(X,x)$, we can look at $H$ as a subgroup of $G(\tilde{X})$, and thus take the quotient 
	 	$$
	 	X_H := \tilde{X}/H
	 	$$ 
	 	for which $\pi_1(X_H,x)=\pi_1(X,x)/H$. It remains to show that this $X_H$ is actually a covering space of $X$. (\textit{omitted}).
	 \end{proof}\\
	 
	 Examples:
	 \begin{itemize}
	 	\item In the covering of $S^1$ by $\R/\Z$, the deck group is $\Z$ and thus $\pi_1(S^1)=\Z$.
	 	\item For spaces $X,Y$ with universal covers $\tilde{X}$ and $\tilde{Y}$, $\tilde{X}\times \tilde{Y}$ is also the universal cover for $X\times Y$. Thus 
	 	$$
	 	\pi_1(X\times Y)= \pi_1(X)\oplus \pi_1(Y).
	 	$$
	 	This implies that $\pi_a(T^n)=\Z^n$.
	 	\item Let $\Gamma$ be a 1-dimensional connected CW complex (a connected graph). Up to homotopy we can assume that $\Gamma$ is a wedge of $n$ circles for some $n$. To calculate the fundamental group of $\Gamma$ then, we get the free group on $n$ generators. The universal covering is an infinite fractal tree. Ping Pong Lemma.
	 \end{itemize}
	 
	 Incidentally, our discussion so far proves that any subgroup of a free group is free, a highly nontrivial fact in group theory. Every subgroup of a free group $\<a,b\>$ has some generators in terms of $a,b$, and one can make a graph with these generators as loops. The resulting CW complex is homotopy-equivalent to a wedge of circles, and thus a free group.\footnote{Hatcher p. 58 has an excellent table of diagrams like this.}\\
	 
	 \textbf{Van Kampen Theorem}: Let $X=A\cup B$ where $A,B$ are both open in $X$, with basepoint $x\in A\cap B$. Assume $A,B,A\cup B$ are all path-connected. Then $\pi_1(X,x)$ is freely generated by $\pi_1(A,x),\pi_1(B,x)$ under the identification of $\pi_1(A\cap B,x)$. That is, it is the group such that the following diagram commutes for all groups $G$ such that the outer square commutes.
	 $$
	 \begin{tikzcd}
	 	& {\pi_1(A,x)} \\
	 	\\
	 	{\pi_1(A\cap B,x)} && {\pi_1(X,x)} && G \\
	 	\\
	 	& {\pi_1(B,x)}
	 	\arrow[from=1-2, to=3-3]
	 	\arrow[from=1-2, to=3-5]
	 	\arrow[from=3-1, to=1-2]
	 	\arrow[from=3-1, to=5-2]
	 	\arrow["{\exists!}"', from=3-3, to=3-5]
	 	\arrow[from=5-2, to=3-3]
	 	\arrow[from=5-2, to=3-5]
	 \end{tikzcd}
	 $$
	 Another way to say this is that it's the simplest group that $\pi_1(A,x),\pi_1(B,x)$ can both map into while commuting with the inclusions from $A\cap B$. We can explicitly determine $\pi_1(X,x)$ as 
	 $$
	 \pi_1(X,x)\cong \pi_1(A,x)\ast \pi_1(B,x) / \<\< \iota_A(w) = \iota_B(w)\>\>
	 $$
	 where $\<\<\bullet \>\>$ denotes the normal subgroup generated by the enclosed relations.
	 
	 The same will hold for more than two (even an arbitrary infinite family) open spaces, as long that any \textit{three} of them have path-connected intersection.
	 \begin{proof}
	 	There is a map $\pi_1(A,x)\ast \pi_1(B,x)\to \pi_1(X,x)$ by inclusion. We will show that it is surjective and that its kernel is exactly the words $w$ in $\pi_1(A\cap B,x)$ for which $\iota_A(w)=\iota_B(w)$.\\
	 	
	 	Step 1: Let $\a:[0,1]\to X$ be a loop at $x$ in $X$. We want to show that $\a$ is homotopy equivalent (rel endpoints) to a path which is a concatenation of paths entirely in $A$ and entirely in $B$. 
	 	
	 	Let $I_A\subset [0,1]$ be $\a^{-1}(A)$ and $I_B=\a^{-1}(B)$. Since $A,B$ are open, these sets are open, and they cover $[0,1]$. Thus by compactness, they are each expressible as finite collections of open intervals. So we can split $\a$ into finitely-many parts, each of which is in $A$ or $B$, and whose endpoints are in $A\cap B$. Because $A\cap B$ is path-connected, each of these are homotopic to a path which begins at $x$.\\
	 	
	 	Step 2: Suppose $\a,\b\in \pi_1(A,x)\ast \pi_1(B,x)$ are identified by this map. There is a nice diagram that looks like a brick wall. Basically, if $\a,\b$ are identified, there is a homotopy between their images, and one can factor this homotopy into individual steps (``bricks'') which correspond with identifying a path in $A\cap B$ in $\pi(A,x)$ with its other inclusion in $\pi(B,x)$.  
	 \end{proof}\\
	 
	 Examples:
	 \begin{itemize}
	 	\item Let $X=S^n$ decomposed into $D^n_-$ and $D^n_+$, with intersection $S^{n-1}$. Then Van Kampen implies that $\pi(S^n)$ is trivial.
	 	\item In any connected CW complex with $X^1=\vee_{\a} S^1_{\a}$, we have $\pi_1(X^2)$ is the free group on generators $\a$ quotiented by the attaching maps.
	 	\item Similarly, $\pi(X)=\pi(X^n)=\pi(X^2)$ for all connected CW complexes $X$. This is because attaching 3-cells yields 2-cell intersections, which have trivial fundamental group.
	 	\item Let $\Sigma_g$ be a $g$-holed torus in $\R^3$. This can be given a CW structure with $2g$ 1-cells and one 2-cell. The fundamental group $\pi_1(\Sigma_g)$ has a presentation 
	 	$$
	 	\pi_1(\Sigma_g) := \<\a_1,\b_1,\dots,\a_g,\b_g | \prod_{i=1}^g [\a_i,\b_i]\>.
	 	$$
	 \end{itemize}
	 \medskip
	 
	 Given a group $\pi$, A $K(\pi,1)$ is a path-connected space $X$ for which $\pi_1(X)\cong \pi$ and whose universal cover is contractible (universal covers are always simply-connected, but not necessarily contractible).\\
	 
	 Let $X$ be a connected CW complex and $Y$ a $K(\pi,1)$ where $\pi = \pi_1(Y,y)$. Then maps $X\to Y$ induce homomorphisms $\rho: \pi_1(X,x)\to \pi_1(Y,y)$. But moreover, \textit{every} such homomorphism is induced by a map $X\to Y$.
	 \begin{proof}
	 	Let $X$ have one $0$-cell $X^0=\{x\}$. For up to the 2-skeleton $X^2$, we can construct a map $X\to Y$ inducing $\rho$ without having any $K(\pi,1)$ property of $Y$. To get to $X^3$ and higher, we need this property. (details omitted)
	 \end{proof}\\
	 
	 For any group $G$ there is a CW complex that has $G$ as its fundamental group and has a contractible universal cover (i.e. a $K(G,1)$).
	 \begin{proof}
	 	Let $EG$ be the simplicial complex which has $n$-simplices corresponding to all $n$-tuples of elements of $G$, with triangles corresponding to the same three elements identified. $EG$ is deformation-retractable to $\id_G$.
	 	
	 	$G$ acts on $EG$ by acting on the vertices. Let $BG=EG/G$. This $BG$ is a $K(G,1)$.
	 \end{proof}\\
	 
	 \section{Homology} Homology groups are somewhat like fundamental groups (they are invariant properties of a topological space) but they are always Abelian. There are two equivalent definitions \textit{on CW complexes}: one will be easy to compute but non-trivially invariant (simplicial/cellular homology), and one will be clearly invariant but difficult to compute (singular homology).\\
	 
	 Let $\Delta^n$ be the canonical $n$-simplex, defined as the set of points in $\R^{n+1}$ whose coordinates are all non-negative and sum to $1$. We say that the $j$th face of $\Delta^n$, denoted $\Delta^n_j$, is the $(n-1)$-simplex obtained by taking all the vertices except for $j$. The orientation (i.e. the ordering on vertices) is preserved if $j$ is even and reversed if $j$ is odd. There may be other $n$-simplices in space which are images of $\Delta^n$ under some continuous map. A $\Delta$-complex is basically a CW complex but with simplices instead of balls and the attaching maps additionally have to obey some orientation stuff.\\
	 
	 If $X$ is a $\Delta$-complex, $\Delta_n(X)$ is the free abelian group generated by the $n$-simplices of $X$. We have a map $\partial_n:\Delta_n(X)\to \Delta_{n-1}(X)$ given by the oriented sum of all the faces:
	 $$
	 \partial_n : \sigma \mapsto \sum_{i=1}^n (-1)^i \sigma_i
	 $$
	 where $\sigma_i$ is the $i$th face of $\sigma$. This is the boundary operator. We can get the familiar property 
	 $$
	 \partial_{n-1} \circ \partial_n = 0.
	 $$
	 To check this,
	 $$
	 \partial_{n-1}\partial_n \sigma = \partial_{n-1}\sum_{i=1}^n (-1)^i \sigma_i = \sum_{i=1}^n\sum_j^{n-1} (-1)^{i+j} (\sigma_i)_j
	 $$
	 and note that $(\sigma_i)_j = - (\sigma_j)_i$ because $i$ and $j$ are swapped, which negates the sign of the permutation. The idea is essentially that $(n-2)$-edges all appear twice with opposite orientations (one can check this on the $3$-simplex).\\
	 
	 An element in $\ker(\partial_n)=:Z_n$ is an $n$-cycle, and element in $\im(\partial_{n+1})=:B_n$ is an $n$-boundary. Note that $B_n$ is a subgroup of $Z_n$, which is a subgroup of $\Delta_n$. The $n$th \textit{Homology Group} is 
	 $$H_n = Z_n/B_n.$$
	 Elements of $H_n$ are equivalence classes of cycles (which are equal mod boundaries). It's not clear a priori that this is well-defined (i.e. does not depend on the parametrization of $X$) but we will show this later. This is \textit{simplicial homology}.\\
	 
	 Alternatively, we could take a given $X$ which is not canonically given by a $\Delta$-complex, and form a simplicial complex $S(X)$ in such a way that it contains \textit{all} continuous maps from $\Delta_n$ into $X$, and define homology of $X$ to be $H_n(S(X))$. This is called the \textit{singular homology} of $X$.\\
	 
	 A sequence of Abelian groups $C_n$ with $\partial$ maps between them (these maps could actually be anything as  long as $\partial^2=0$, i.e. it is a long exact sequence) is called a \textit{chain complex}, and a \textit{chain map} is a sequence of maps $f_n:C_n\to C_n'$ from one chain complex to another such that the diagram commutes:
	 $$
	 \begin{tikzcd}
	 	\cdots && {C_{n+1}} && {C_n} && {C_{n-1}} && \cdots \\
	 	\\
	 	\cdots && {C_{n+1}'} && {C_n'} && {C_{n-1}'} && \cdots
	 	\arrow["\partial", from=1-1, to=1-3]
	 	\arrow["\partial", from=1-3, to=1-5]
	 	\arrow["{f_{n+1}}"{description}, from=1-3, to=3-3]
	 	\arrow["\partial", from=1-5, to=1-7]
	 	\arrow["{f_{n}}"{description}, from=1-5, to=3-5]
	 	\arrow["\partial", from=1-7, to=1-9]
	 	\arrow["{f_{n-1}}"{description}, from=1-7, to=3-7]
	 	\arrow["\partial", from=3-1, to=3-3]
	 	\arrow["\partial", from=3-3, to=3-5]
	 	\arrow["\partial", from=3-5, to=3-7]
	 	\arrow["\partial", from=3-7, to=3-9]
	 \end{tikzcd}
	 $$
	 This chain map induces a homomorphism between the homology groups $f_*:H_n(C_*)\to H_n(C_{*}')$ (this is diagram chasing).\\
	 
	 \textbf{Theorem}: If $f,g:X\to Y$ are homotopic maps of topological spaces, then the homomorphisms of homology groups induced by $f_*,g_*$ are equal.
	 \begin{proof}
	 	Let $f_{\sharp},g_{\sharp}:C_*(X)\to C_*(Y)$ be the induced chain maps. A \textit{dual homotopy} is a map $P:C_*(X)\to C_{*+1}(Y)$ with the property that
	 	$$
	 	\partial P + P\partial = g_{\sharp} - f_{\sharp}
	 	$$
	 	If such a $P$ exists, then $f_*=g_*$, since the boundary of any loop is $0$, so 
	 	$$
	 	(g_{\sharp} - f_{\sharp})(\a) = (\partial P + P\partial)(\a) = \partial P(\a) + 0 
	 	$$
	 	and this is a boundary, so in the homology group $f_{\sharp} = g_{\sharp}$.
	 	
	 	So it suffices to find such a $P$. To make this $P$, we begin with the homotopy between $f$ and $g$. \textit{add more details later}.
	 \end{proof}\\
	 
	 Examples:
	 \begin{itemize}
	 	\item If $X$ is a single point, then there is only a single map from the $n$-simplex to $X$, so each $C_n(X)$ is the Abelian group generated by a single generator $\sigma_n$, i.e. $C_n(X)=\Z$. For this $n$-simplex $\sigma_n$, we have 
	 	$$
	 	\partial_n (\sigma_n) = \sum_{i=0}^{n} (-1)^i \sigma_{n-1} = \begin{cases} 0 & n \text{ odd}\\
	 		\sigma_{n-1} & n \text{ even}
	 	\end{cases}
	 	$$
	 	so the maps in this complex are 
	 	$$
	 	\begin{tikzcd}
	 		\cdots && {\Z} && {\Z} && {\Z} && \cdots
	 		\arrow["\cong", from=1-1, to=1-3]
	 		\arrow["0", from=1-3, to=1-5]
	 		\arrow["\cong", from=1-5, to=1-7]
	 		\arrow["0", from=1-7, to=1-9]
	 	\end{tikzcd}
	 	$$
	 	thus giving $H_n(X) = 0$ for all $n$ (except $H_0(X)=\Z$).
	 \end{itemize}
	 \medspace
	 
	 This $X=\{x\}$ example has a sort of annoying property that $H_0(X)$ is an exception. So we have a \textit{reduced homology} which just slips in a $\Z$ between $C_0$ and $0$ at the end of the homology sequence, with the map $\ep:C_0\to \Z$ which maps every individual point to 1. This allows for $\widetilde{H_0}(X)$ to be 0. Every other dimension is the same as ordinary homology.
	 
	 We can directly relate $H_0$ and $\widetilde{H_0}$ via the short exact sequence
	 $$
	 0 \to \widetilde{H_0}(X) \to H_0(X) \xrightarrow{\ep} \Z\to 0.
	 $$
	 
	 If $X$ is path-connected, then every cycle (mod boundary) in $H_1(X)$ is induced by some loop in $\pi_1(X)$. The kernel of the map $\pi_1(X)\to H_1(X)$ is exactly the commutator subgroup of $\pi_1(X)$.\\
	 
	 \subsection{Relative Homology} If $A\subset X$, we have chain complexes $C_*(A)$ and $C_*(X)$. There are inclusions $C_*(A)\to C_*(X)$. So corresponding to this inclusion we have a chain complex $C_*(X,A)$ given by the quotient map. Thus the following short exact sequence of chain complexes:
	 $$
	 \begin{tikzcd}
	 	&& \vdots && \vdots && \vdots \\
	 	0 && {C_n(A)} && {C_n(X)} && {C_n(X,A)} && 0 \\
	 	\\
	 	0 && {C_{n-1}(A)} && {C_{n-1}(X)} && {C_{n-1}(X,A)} && 0 \\
	 	&& \vdots && \vdots && \vdots
	 	\arrow[from=1-3, to=2-3]
	 	\arrow[from=1-5, to=2-5]
	 	\arrow[from=1-7, to=2-7]
	 	\arrow[from=2-1, to=2-3]
	 	\arrow[from=2-3, to=2-5]
	 	\arrow["\partial"{description}, from=2-3, to=4-3]
	 	\arrow[from=2-5, to=2-7]
	 	\arrow["\partial"{description}, from=2-5, to=4-5]
	 	\arrow[from=2-7, to=2-9]
	 	\arrow["\partial"{description}, from=2-7, to=4-7]
	 	\arrow[from=4-1, to=4-3]
	 	\arrow[from=4-3, to=4-5]
	 	\arrow[from=4-3, to=5-3]
	 	\arrow[from=4-5, to=4-7]
	 	\arrow[from=4-5, to=5-5]
	 	\arrow[from=4-7, to=4-9]
	 	\arrow[from=4-7, to=5-7]
	 \end{tikzcd}
	 $$
	 We can think of elements in $C_n(X,A)$ as $n$-chains in $X$ mod the chains in $A$ (or those that are not entirely contained in $A$). $C_n(X,A)$ has its own homology. This gives rise to a \textit{long} exact sequence of the corresponding homology groups:
	 $$
	 \begin{tikzcd}
	 	\cdots & {H_{n+1}(X,A)} & {H_n(A)} & {H_n(X)} & {H_n(X,A)} & {H_{n-1}(A)} & \cdots
	 	\arrow[from=1-1, to=1-2]
	 	\arrow[from=1-2, to=1-3]
	 	\arrow[from=1-3, to=1-4]
	 	\arrow[from=1-4, to=1-5]
	 	\arrow[from=1-5, to=1-6]
	 	\arrow[from=1-6, to=1-7]
	 \end{tikzcd}
	 $$
	 The only thing that really needs to be done is to define the maps $H_{n+1}(X,A)\to H_n(A)$ and show that they fit in with their neighbors. This map is given as follows: if $c\in C_{n+1}(X,A)$ is a cycle, then we pull back to some representative $x\in C_{n}(X)$, take its boundary $\partial x$ (which need not be zero), then pull this back to a cycle in $C_n(A)$, and this is the result of the map. It needs to be shown that this is well-defined etc. but we omit this. The fact that we're working with homology groups specifically is fundamental to why this works because it allows us to ignore boundaries.
	 
	 In a special case where $A$ is a single point, we get $\widetilde{H_n}(A)=0$ for all $n$, which results in $\widetilde{H_n}(X)=\widetilde{H_n}(X,A)$.\\
	 
	 Now we have this nice thing but we don't know how to compute it. To do this, we can show 
	 $$
	 H_n(X,A) \cong \widetilde{H_n}(X/A)
	 $$
	 We use a technique called \textit{excision}: if $Z\subset A$ such that the closure of $Z$ is in the interior of $A$, then we can say
	 $$
	 H_*(X-Z,A-Z) \cong H_*(X,A).
	 $$ 
	 \begin{proof}
	 	Let $\U$ be an open cover of $X$, and let $C_*^{\U}(X)$ be the chain subgroup generated by simplices entirely contained in some open set in $\U$. The claim is that this is the same as $C_*(X)$. To show this it suffices to give a map the other way. You can basically represent any simplex as a sum of many arbitrarily small simplices. The simplex is compact so this only needs to be done finitely-many times. This is done by barycentric subdivision (details omitted). But also you have to be careful that the boundary ends up what it should be.\\
	 	
	 	So now we can specialize this to $\U=\{X-Z,Z\}$ to get the desired result.
	 \end{proof}\\
	 
	 Examples:
	 \begin{itemize}
	 	\item Taking the CW-pair $(D^n,S^{n-1})$, we have the homology sequence
	 	$$
	 	\cdots \to \widetilde{H_i}(S^{n-1}) \to \widetilde{H_i}(D^n) \to \widetilde{H_i}(D^n,S^{n-1})\to \widetilde{H}_{i-1}(S^{n-1}) \to \cdots
	 	$$
	 	and we know by using excision that $\widetilde{H_i}(D^n,S^{n-1})=\widetilde{H_i}(D^n/S^{n-1})=\widetilde{H_i}(S^n)$ giving
	 	$$
	 	\cdots \to \widetilde{H_i}(S^{n-1}) \to 0 \to \widetilde{H_i}(S^n) \to \widetilde{H}_{i-1}(S^{n-1}) \to \cdots
	 	$$
	 	which gives $\widetilde{H_i}(S^n) \cong \widetilde{H}_{i-1}(S^{n-1})$, so by induction we see that 
	 	$$\widetilde{H_i}(S^{n})=\begin{cases}\Z & i=n \\ 0 & i\neq n\end{cases}$$
	 	\item We can also use excision to show that singular and simplicial homology coincide for $\Delta$-complexes $X$. There is an inclusion of the simplicial chain group into the singular chain group, $C^{\Delta}_i(X)\xhra{} C_i(X)$. This map between the chain complexes induces a map between homologies:
	 	$$
	 	\begin{tikzcd}[sep=small]
	 		\cdots & {H_{n+1}^{\Delta}(X^k,X^{k-1})} & {H_n^{\Delta}(X^{k-1})} & {H_n^{\Delta}(X^k)} & {H_n^{\Delta}(X^k,X^{k-1})} & {H_{n-1}^{\Delta}(X^{k-1})} & \cdots \\
	 		\\
	 		\cdots & {H_{n+1}(X^k,X^{k-1})} & {H_n(X^{k-1})} & {H_n(X^k)} & {H_n(X^k,X^{k-1})} & {H_{n-1}(X^{k-1})} & \cdots
	 		\arrow[from=1-1, to=1-2]
	 		\arrow[from=1-2, to=1-3]
	 		\arrow[from=1-2, to=3-2]
	 		\arrow[from=1-3, to=1-4]
	 		\arrow[from=1-3, to=3-3]
	 		\arrow[from=1-4, to=1-5]
	 		\arrow[from=1-4, to=3-4]
	 		\arrow[from=1-5, to=1-6]
	 		\arrow[from=1-5, to=3-5]
	 		\arrow[from=1-6, to=1-7]
	 		\arrow[from=1-6, to=3-6]
	 		\arrow[from=3-1, to=3-2]
	 		\arrow[from=3-2, to=3-3]
	 		\arrow[from=3-3, to=3-4]
	 		\arrow[from=3-4, to=3-5]
	 		\arrow[from=3-5, to=3-6]
	 		\arrow[from=3-6, to=3-7]
	 	\end{tikzcd}
	 	$$ 
	 	By the ``5-lemma'' from category theory, to prove that the middle map here is an isomorphism, it suffices to show this for the outer four maps. Many of them have smaller $k$ and $n$, so can be assumed by induction (the cases $k=0$ and $n=0$ are the base cases and not hard to show). For the leftmost map $H_{n+1}^{\Delta}(X^k,X^{k-1})\to H_{n+1}(X^k,X^{k-1})$, we use excision (check Hatcher for details later).
	 \end{itemize}
	 
	 \medspace
	 
	 Given a map $f:S^n\to S^n$, we have an induced map on homology groups. The $n$th homology group of $S^n$ is the only nonzero one, as we showed, so we look at the map $f_*: H_n(S^n) \to H_n(S^n)$ i.e. $f_*:\Z\to \Z$. So $f_*$ must be a multiplication by some element, and we call this factor $\deg(f)$. Recall that homotopic maps induce the same maps on homology, so $\deg(f)$ only depends on the homotopy class of $f$.\\
	 
	 Some basic facts about degree:
	 \begin{itemize}
	 \item $\deg(1)=1$.
	 \item $\deg(\text{reflection})=-1$.
	 \item $\deg(f\circ g)=\deg(f)\cdot \deg(g)$.
	 \item $\deg(-1)$ (antipodal map) is $(-1)^{n+1}$ (it is a composition of $n+1$ reflections).
	 \item If $f$ has no fixed points it is homotopic to the antipodal map and thus has degree $(-1)^{n+1}$.
	 \item If $f$ is not surjective, then $\deg(f)=0$, as $f$ factors through a punctured $S^n$, and this space has trivial homology groups (it is contractible).
	 \end{itemize}
	 
	 \medspace
	 
	 Suppose $f:S^n\to S^n$ has the property that some fiber $f^{-1}(y) = \{x_1,\dots,x_n\}$, a finite set. Then we can calculate $\deg(f)$ as a sum of the degrees \textit{locally} near each point $x_i$. Let $V$ be a neighborhood of $y$ such that the preimage $f^{-1}(V)$ is a union of disjoint neighborhoods $U_i$ of $x_i$. We say that the local degree of $f$ near $x$ is the factor by which $f$ multiplies in
	 $$
	 f_*: H_n(X,X-x) \to H_n(X,X-x).
	 $$
	 And note that by excision, $H_n(X,X-x_i)=H_n(U_i,U_i-x_i)$ for each $i$. (rest of proof omitted).\\
	 
	 \subsection{Cellular Homology} We've seen how homology groups can be defined for $\Delta$-complexes. But now we'd like to do the same for CW-complexes; that is, we'd like a way to define $H_n(X)$ based only on the relative homologies $H(X^n,X^{n-1})$. We can do it as follows:
	 $$
	 \begin{tikzcd}[sep=small]
	 	&&&& 0 \\
	 	& \ddots && {H_n(X^{n+1})} & {H_n(X)} \\
	 	&& {H_n(X^n)} \\
	 	\cdots & {H_{n+1}(X^{n+1},X^n)} && {H_n(X^n,X^{n-1})} && {H_{n-1}(X^{n-1},X^{n-2})} & \cdots \\
	 	&&&& {H_n(X^{n-1})} \\
	 	&&& 0
	 	\arrow[from=2-2, to=3-3]
	 	\arrow[from=2-4, to=1-5]
	 	\arrow["\sim", equals, from=2-4, to=2-5]
	 	\arrow[from=3-3, to=2-4]
	 	\arrow["\iota", from=3-3, to=4-4]
	 	\arrow[from=4-1, to=4-2]
	 	\arrow["\partial", from=4-2, to=3-3]
	 	\arrow["{d_{n+1}}", from=4-2, to=4-4]
	 	\arrow["{d_n}", from=4-4, to=4-6]
	 	\arrow["\partial"', from=4-4, to=5-5]
	 	\arrow[from=4-6, to=4-7]
	 	\arrow["\iota"', from=5-5, to=4-6]
	 	\arrow[from=6-4, to=5-5]
	 \end{tikzcd}
	 $$
	 Note that the quotient of $\ker(d_n)/\im(d_{n+1})$ is indeed $H_n(X)$ as we wanted.\\
	 
	\subsection{Mayer-Vietoris} Let $X=A\cup B$ where $A,B$ are both open. We can relate the homologies $H_*(A\cup B),H_*(A),H_*(B),H_*(A\cap B)$ via the Mayer Vietoris sequence:
	$$
	0 \to C_*(A\cap B) \to C_*(A)\oplus C_*(B) \to C_*(A+B)\to 0
	$$
	(these maps commute with the boundary maps going down each column). $C_*(A+B)$ denotes chains that are contained entirely in $A$ or entirely in $B$. This over-counts chains that are contained in both, hence the short exact sequence. But also $H_*(A+B) = H_*(A\cup B)$ by excision. So this induces a long exact sequence of homology groups:
	$$
	\cdots \to H_n(A\cap B) \to H_n(A)\oplus H_n(B) \to H_n(A\cup B) \to H_{n-1}(A\cap B) \to \cdots 
	$$
	
	\medspace
	
	\subsection{Euler Characteristic and Lefschetz Trace} If $X$ is a finite CW complex, we define the Euler characteristic as 
	$$
	\chi(X) := \sum_d (-1)^d \cdot \#(\text{Cells of dimension $d$}) = \sum_d (-1)^d \cdot \rank(C_d(X)).
	$$
	This doesn't depend on the CW-complex structure of $X$, and in fact only depends on the homology groups of $X$. This is because 
	$$
	\rank(C_d) = \rank(Z_d) + \rank(B_{d-1}) = \rank(B_d) + \rank(H_d) + \rank(B_{d-1})
	$$
	so the boundary terms all cancel and we get
	$$
	\chi(X) := \sum_d (-1)^d \rank(H_d)
	$$
	
	Examples:
	\begin{itemize}
		\item $\Sigma_g$, the closed oriented surface of genus $g$, has $\chi(\Sigma_g) = 1 - 2g + 1 = 2-2g$.
		\item If $X=S^1\times Y$, then $\chi(X)=0$ because cells in the product come in pairs corresponding to the 0- and 1-cell of $S^1$ product with cells of $Y$.
		\item In general $\chi(A\times B) = \chi(A)\cdot \chi(B)$.
		\item If $\hat{X}\to X$ is an $d$-sheeted cover of $X$, a finite CW-complex, then $\hat{X}$ can be given a CW structure with $d$ cells of dimension $i$ for each $i$-cell of $X$. As a result $\chi(\hat{X})=d\cdot \chi(X)$.
		\item Suppose $S^{2m}\to M$ is a covering space. Then the degree of the covering is either 1 or 2 because $\chi(S^{2n})=1 + 1 = 2$, so $2=d\cdot \chi(M)$. An example of this is $M=\R P^{2m}$ with $\chi(\R P^{2m})=1$, so $d=2$ (antipodes are identified!). 
		\item $\chi(\C P^n) = n + 1$.
	\end{itemize}
	
	\medspace
	
	The Lefschetz Trace Formula is a sort of generalization of the Euler characteristic but for maps rather than spaces themselves (functorial). 
	
	Let $X$ be a finite CW complex for which the homology groups are all finitely-generated, and $f:X\to X$. Then there is an induced homomorphism $f_*:H_*(X)\to H_*(X)$. If we think of $H_n(X)$ as a vector space over $\Z$, we can take the trace of $f_*$ as a linear map. Specifically, we define the Lefschetz Trace as
	$$
	\tau(f) := \sum_d (-1)^d \tr(f_*:H_d(X)\to H_d(X))
	$$
	These are $\Z$-linear maps, so their traces are all integers, thus $\tau(f)$ is an integer. Note in particular that $\tau(\id)=\chi(X)$.
	
	The Lefschetz Trace can also be defined in terms of the trace on the maps of chain groups, similarly to Euler Characteristic:
	$$
	\begin{tikzcd}
		0 && A && B && C && 0 \\
		\\
		0 && A && B && C && 0
		\arrow[from=1-1, to=1-3]
		\arrow[from=1-3, to=1-5]
		\arrow["\alpha"{description}, from=1-3, to=3-3]
		\arrow[from=1-5, to=1-7]
		\arrow["\beta"{description}, from=1-5, to=3-5]
		\arrow[from=1-7, to=1-9]
		\arrow["\gamma"{description}, from=1-7, to=3-7]
		\arrow[from=3-1, to=3-3]
		\arrow[from=3-3, to=3-5]
		\arrow[from=3-5, to=3-7]
		\arrow[from=3-7, to=3-9]
	\end{tikzcd}
	$$
	$\tr(\b)=\tr(\a)+\tr(\gamma)$. Revisit.\\
	
	\textbf{Lefschetz Fixed-Point Theorem}: If $X$ is a finite simplicial complex (or a retract of one) and there is a map $f:X\to X$ for which $\tau(f)\neq 0$, then $f$ has a fixed point.
	\begin{proof}
		First we show that this also extends to retracts. If $K\to X$ is a retract to $X$, and $f:K\to K$, then we can factor $f$ through the retract and $f|_X$. Moreover $\tau(f|_X)=\tau(f)$, because the trace of $f_*$ on the retractable loops in $H_*(K)$ is 0. $f|_X$ has a fixed point (assuming that the theorem is true) and this point is also fixed in $K$ by the inclusion and retraction.\footnote{By extending to allow retractions from simplicial complexes, we also get to use this on compact manifolds and $\C$-algebraic varieties. Very broad usage.}\\
		
		Now on to the proof. By Brouwer fixed-point theorem, if $f$ maps any cell to itself, then it has a fixed point. If we knew that $f:X\to X$ were cellular (that is, preserved $X^n$ for each $n$), then we could say that $f$ permutes the cells of dimension $n$ for each $n$. But then its trace would be 0 because it takes every element in $H_n(X)$ to a sum not involving itself (it sends it to a different cell). So it suffices to show that we can reduce to the case of cellular maps.\\
		
		The idea will be that we can re-parameterize our $X$ with a more subdivided CW-complex structure $X'$ so that $f$ is homotopic to a cellular map $g:X'\to X'$. To do that we need a little bit of organizational terminology.
		
		Let $\St(\sigma)$ (pronounced ``Star of $\sigma$'') be the union of all simplices containing $\sigma$. We also have the \textit{open} star $\st(\sigma)$ which is the union of the \textit{interiors} of all simplices containing $\sigma$. $\overline{\st(\sigma)}=\St(\sigma)$ (this is not so obvious as it seems). Also the intersection of $\st(v_i)$ for vertices $v_i$ is $\st(\tau)$ if they are exactly the vertices of a simplex $\tau$, and empty otherwise.
		
		We just need to choose $g$ so that $g(v) \in \St(f(v))$ for every vertex $v\in X$, and there will be a homotopy equivalence between $f$ and $g$ (many details omitted). This is a case of a more general tool called \textit{simplicial approximation}.
	\end{proof}
	
	\section{Cohomology} We'll initially define Cohomology as an algebraic thing, but then see that it has some important implications for topology and geometry. \\
	
	Fix some abelian ``coefficient group'' $G$. Given any abelian group $A$, let $A^*$ be the group $\Hom(A,G)$. For any group homomorphism $f:A\to B$ we have the pullback map $f^*:B^*\to A^*$ by precomposition with $f$. So dualizing is a contravariant functor.
	
	Suppose we have a chain complex
	$$
	\cdots \to C_{n+1} \xrightarrow{\partial} C_n \xrightarrow{\partial} C_{n-1}\to \cdots 
	$$
	where $C_n$ are abelian groups. We can dualize this complex to get 
	$$
	\cdots \to C^*_{n-1} \xrightarrow{\de} C^*_n \xrightarrow{\de} C^*_{n+1}\to \cdots 
	$$
	Note that $\de^2=0$ still, as $\de^2 f = f \circ \partial^2 = 0$. We can thus define the homology of this dual complex,
	$$
	H^n(C_*;G) := \ker(C_n^*\to C_{n+1}^*) / \im(C_{n-1}^*\to C_n^*).
	$$
	This is what we call the \textit{cohomology} relative to $G$.
	
	$\ph\in \ker(C_n^*\to C^*_{n+1})$ means $\ph|_{B_n}=0$; \textit{cocycles vanish on boundaries}. Because of this, cocycles induce maps $H_n\to G$. And $\ph\in \im(C_{n-1}^*\to C_n^*)$ means $\ph$ factors through $\partial$, i.e. $\ph|{Z_n}=0$; \textit{coboundaries vanish on cycles}. So we can see the cohomology groups as the groups of homomorphisms $H^n(C_*)\to G$. Let
	$$
	h:H^n(C;G)\to \Hom(H_n(C);G).
	$$ 
	We can show that $h$ is surjective, and in fact
	$$
	H^n(C;G) \cong \Hom(H_n(C),G) \oplus \ker(h).
	$$
	$\ker(h) = \Ext(H_{n-1}(C);G)$ (I don't know what this is).
	
	Take the commutative diagram made up of short exact sequences
	$$
	\begin{tikzcd}
		& \vdots & \vdots & \vdots \\
		0 & {Z_{n+1}} & {C_{n+1}} & {B_n} & 0 \\
		0 & {Z_n} & {C_{n}} & {B_{n-1}} & 0 \\
		0 & {Z_{n-1}} & {C_{n-1}} & {B_{n-2}} & 0 \\
		& \vdots & \vdots & \vdots
		\arrow[from=1-2, to=2-2]
		\arrow[from=1-3, to=2-3]
		\arrow[from=1-4, to=2-4]
		\arrow[from=2-1, to=2-2]
		\arrow[from=2-2, to=2-3]
		\arrow["0", from=2-2, to=3-2]
		\arrow[from=2-3, to=2-4]
		\arrow["\partial", from=2-3, to=3-3]
		\arrow[from=2-4, to=2-5]
		\arrow["0", from=2-4, to=3-4]
		\arrow[from=3-1, to=3-2]
		\arrow[from=3-2, to=3-3]
		\arrow["0", from=3-2, to=4-2]
		\arrow[from=3-3, to=3-4]
		\arrow["\partial", from=3-3, to=4-3]
		\arrow[from=3-4, to=3-5]
		\arrow["0", from=3-4, to=4-4]
		\arrow[from=4-1, to=4-2]
		\arrow[from=4-2, to=4-3]
		\arrow[from=4-2, to=5-2]
		\arrow[from=4-3, to=4-4]
		\arrow[from=4-3, to=5-3]
		\arrow[from=4-4, to=4-5]
		\arrow[from=4-4, to=5-4]
	\end{tikzcd}
	$$
	we can dualize this whole diagram to get
	$$
	\begin{tikzcd}
		& \vdots & \vdots & \vdots \\
		0 & {Z_{n+1}^*} & {C_{n+1}^*} & {B_n^*} & 0 \\
		0 & {Z_n^*} & {C_{n}^*} & {B_{n-1}^*} & 0 \\
		0 & {Z_{n-1}^*} & {C_{n-1}^*} & {B_{n-2}^*} & 0 \\
		& \vdots & \vdots & \vdots
		\arrow[tail reversed, no head, from=2-1, to=2-2]
		\arrow[from=2-2, to=1-2]
		\arrow[tail reversed, no head, from=2-2, to=2-3]
		\arrow["0", tail reversed, no head, from=2-2, to=3-2]
		\arrow[from=2-3, to=1-3]
		\arrow[tail reversed, no head, from=2-3, to=2-4]
		\arrow["\delta", tail reversed, no head, from=2-3, to=3-3]
		\arrow[from=2-4, to=1-4]
		\arrow[tail reversed, no head, from=2-4, to=2-5]
		\arrow["0", tail reversed, no head, from=2-4, to=3-4]
		\arrow[from=3-2, to=3-1]
		\arrow["0", tail reversed, no head, from=3-2, to=4-2]
		\arrow[from=3-3, to=3-2]
		\arrow["\delta", tail reversed, no head, from=3-3, to=4-3]
		\arrow[from=3-4, to=3-3]
		\arrow["0", tail reversed, no head, from=3-4, to=4-4]
		\arrow[from=3-5, to=3-4]
		\arrow[from=4-2, to=4-1]
		\arrow[tail reversed, no head, from=4-2, to=5-2]
		\arrow[from=4-3, to=4-2]
		\arrow[tail reversed, no head, from=4-3, to=5-3]
		\arrow[from=4-4, to=4-3]
		\arrow[tail reversed, no head, from=4-4, to=5-4]
		\arrow[from=4-5, to=4-4]
	\end{tikzcd}
	$$
	it is not immediate that these are actually still exact sequences, as dualizing is not an exact functor (it is only right-exact). 
	$$
	\begin{tikzcd}
		& 0 & {B_{n-1}} & {Z_{n-1}} & {H_{n-1}} & 0 \\
		\\
		0 & {\coker(\iota)} & {B_{n-1}^*} & {Z_{n-1}^*} & {H^*_{n-1}} & 0
		\arrow[from=1-2, to=1-3]
		\arrow["\iota", from=1-3, to=1-4]
		\arrow[from=1-4, to=1-5]
		\arrow[from=1-5, to=1-6]
		\arrow[from=3-2, to=3-1]
		\arrow[from=3-3, to=3-2]
		\arrow["{\iota^*}"', from=3-4, to=3-3]
		\arrow[from=3-5, to=3-4]
		\arrow[from=3-6, to=3-5]
	\end{tikzcd}
	$$
	Note $\coker(\iota) = \ker(h)$.\\
	
	A \textit{free resolution} of $H$ is an exact sequence 
	$$
	\cdots \to F_n \to F_{n-1} \to \dots \to F_0 \to H \to 0
	$$
	where all $F_i$ are free. We can map between free resolutions by some sequence of maps that commute with the maps in the sequence.\\
	
	\textbf{Lemma}: Given two free resolutions of $H$, $F_i$ and $F_i'$, any $\a:H\to H$ extends to a chain map $\a_i:F_i\to F_i'$ which makes the diagram commute. Further, any two chain maps that agree on $H$ are chain-homotopic.
	\begin{proof}
		Because $F_i,F_i'$ are free, to give $\a_i:F_i\to F_i'$ it suffices to say where the basis goes, but there are no relations so we have a lot of flexibility.\\
		
		At every stage, the only thing we need is for there to be some target to map to in $F_i'$ which will commute the square. And we find that by exactness, the thing we want it to map to, $a_{i-1}(f_i(c))$, is in the kernel of the next map, so it's in the image of $f_{i-1}'$, so a target exists. (this is very handwavey in my notes but it makes sense in the diagram).\\
		
		To prove the second claim it suffices to show that any extension of the 0 map $H\to H$ is also 0. The idea is that you can basically slide the whole bottom sequence over since the bottom copy of $H$ can be replaced by 0.
	\end{proof}\\
	
	We can apply this fact to homology. Namely, we can dualize the lemma to see that cohomology is uniquely determined by the last group in the chain (?).\\
	
	To compute Ext relative to a group, we only have to consider the torsion part.\\
	
	One can also define relative cohomology by dualizing relative homology, in the expected way. Excision holds the same way; that is,
	$$
	H^*(X,A;G) = H^*(X-Z,A-Z;G)
	$$
	for $Z$ whose closure is contained in the interior of $A$. Similarly, the Mayer-Vietoris sequence also exists for cohomology.\\
	
	\subsection{Cup Product} What's new in cohomology that we didn't have in homology? The first thing is the cup product. Suppose that we take our coefficient group to actually be some commutative ring $R$. Then we have an operation $\smile$ which takes a $k$-cochain and $\ell$-cochain and returns a $(k+\ell)$-cochain:
	$$
	\ph \in C^k(X;R), \;\; \psi \in C^{\ell}(X;R), \;\;\; \ph \smile \psi \in C^{k+\ell}(X;R).
	$$
	We define $\ph\smile \psi$ by saying that it acts on $k+\ell$ simplex $\sigma = [v_0,\dots,v_{k+\ell}]$ by
	$$
	\ph\smile \phi(\sigma) := \phi(\sigma | [v_0,\dots,v_k])\cdot \psi(\sigma | [v_k,\dots,v_{k+\ell}])
	$$
	Of course, we still have to show that this is well-defined so that the indexing of $\sigma$ doesn't matter.\\
	
	How does the cup product interact with the coboundary operator $\delta$? The rule is 
	$$
	\de(\ph \smile \psi) = (\de \ph)\smile \psi + (-1)^k \ph\smile(\de \psi).
	$$
	To establish this, we can calculate directly by looking at simplices. For each $\sigma:\Delta^{k+\ell+1}\to X$,
	\begin{align*}
		\de(\ph \smile \psi) \sigma &= (\ph \smile \psi)(\de \sigma)\\
		&= \sum_i (-1)^i (\ph\smile \psi)(\sigma | [v_0,\dots,\hat{v_i},\dots,v_{k+\ell+1}])\\
		&= 
	\end{align*}
	calculation omitted because it's annoying but trust me it works out.\\
	
	As a corollary, we see that the cup product of two cocycles is a cocycle as well, as 
	$$
	\de(\a\smile \b) = \de\a \smile \b \pm \a\smile \de \b = 0 \pm 0 = 0
	$$
	and similarly the cup product of a cocycle and coboundary is a coboundary! This is because if $\a$ is a cocycle and $\b$ a coboundary, then
	$$
	\de(\a \smile \b) = \de \a \smile \b \pm \a\smile \de \b = \pm \a\smile \de \b
	$$
	so $\a\smile \de \b$ is the coboundary of $\pm \a\smile \b$. Thus, \textit{the cup product is defined on cohomology classes}. That is, we have a map
	$$
	H^k(X;R) \times H^{\ell}(X;R) \to H^{k+\ell}(X;R)
	$$
	given by the cup product. This makes $H^*(X;R)$ a graded ring with product $\smile$. Wow!\\
	
	\textbf{Theorem}: Given $[\a]\in H^k$ and $[\b]\in H^{\ell}$, we have
	$$
	[\a]\smile [\b] = (-1)^{k\ell} [\b]\smile [\a].
	$$
	\begin{proof}
		For each $\sigma:\Delta^n\to X$, define $\overline{\sigma}:\Delta^n\to X$ to be $\sigma$ composed with the reversal of all indices. Let $\rho:C_n(X)\to C_n(X)$ be the map taking $\sigma$ to $\overline{\sigma}$. The claim is that $\rho$ is chain-homotopic to the identity. Knowing this, 
		$$(\rho^*\ph \smile \rho^*\psi)(\sigma) = \rho^*\ph (\sigma)\cdot \rho^*\psi(\sigma) = \ph(\overline{\sigma}) \cdot \psi(\overline{\sigma}) = (-1)^{k\ell} \rho^*(\psi\smile \ph)(\sigma)$$
		(there are $k\ell$ swaps).
	\end{proof}
	\medspace
	
	So we have constructed cohomology from an algebraic perspective. But now, what is this thing we've made? Let's see some examples.
	\begin{itemize}
		\item Let $M$ be a closed smooth oriented $n$-dimensional manifold. Let $\Sigma$ be a nice $k$-dimensional submanifold. We can assign to $\Sigma$ a cohomology class $[\phi_{\Sigma}]\in H^{n-k}$ given by sending $\sigma$ to the sum of intersections (with orientation) of $\sigma$ and $\Sigma$ (we assume general position so nothing too weird can happen).\\
		
		To show that this is actually a cocycle, we can check that if the boundary operator is applied then we get 0. This is because $\Sigma$ is itself a loop and therefore ``enters'' $\sigma$ the same number of times it ``leaves,'' so if $\sigma$ is a cycle (i.e. oriented the same all over) then the sum is 0. 
		
		\item In the setting of manifolds, the cup product is dual to the intersection. This is because the top homology class of a manifold is $\Z$, generated by the boundary itself.
		
		\item Consider the torus with two loops $\a,\b$ that intersect in one place. Then $\phi_{\a},\phi_{\b}$ are 1-cochains. If we take a triangle $\sigma$ around their intersection, we get
		$$
		\phi_{\a}\smile \ph_{\b}(\sigma) = 1\cdot 1 = 1
		$$
		and in every simplex away from this intersection the cup product is 0.
		
		\item Let $M=\Sigma_g$, with loops $\a_1,\a_2,\dots,\a_g,\b_1,\b_2,\dots,\b_g$. $\a_i,\b_i$ intersect with positive orientation, $\b_i,\a_i$ with negative orientation, and any other pair does not intersect. We have the matrix
		$$
		J=
		\begin{bmatrix}
			\mathbf{0}_n & I_n \\
			-I_n & \mathbf{0}_n
		\end{bmatrix}
		$$
		and note that $J^2=-I_{2n}$, so $J$ is an isomorphism on $H_1$ (the first homology group). This represents the bilinear pairing that is the cup product on $H^1\times H^1$.
		
		\item Let $M=\C P^n$, so that the homology groups are $H_j=\Z$ for $j\in \{0,2,4,\dots,2n\}$ and similarly for the cohomology. Let $\a_j\in H^j$ for each even $j$. We have $\a_i\smile \a_j\in H^{i+j}$, so it must be a multiple of $\a_{i+j}$. And in fact, it is exactly $\a_{i+j}$. 
		
		To see this, we can take $\C P^i\cap \C P^j$. Since the homology is homotopy invariant, we can take ``maximally complementary'' embeddings of $\C P^i$ and $\C P^j$ in $\C P^n$, in which their intersection is $\C P^{i+j-n}$. So $\a_i\smile \a_j$ acts on homology by intersection with $\C P^{i+j-n}$.
		
		\item Now consider the simple case where $M=\C P^2$ and $A,B\subset \C P^2$ are smooth projective curves. They intersect in $\deg(A)\deg(B)$ places (with multiplicity) by Bezout's theorem. But this also follows by doing cohomology stuff.
	\end{itemize}
	
	\medspace
	
	In relative cohomology, we can take cup products 
	$$
	H^k(X)\times H^{\ell}(X,A) \to H^{k+\ell}(X,A)
	$$
	or if both the inputs are relative to $A$. Moreover, the cup product can be defined to combine the relative subspaces
	$$
	H^k(X,A)\times H^{\ell}(X,B)\to H^{k+\ell}(X,A\cup B).
	$$
	
	\medspace
	
	\subsection{Kunneth Formula} How can we understand the cohomology of $X\times Y$ in terms of the cohomologies of $X$ and $Y$ individually? We consider a special case in which $X$ and $Y$ are CW complexes and $H^*(Y;R)$ is free and finitely generated in every dimension.\\
	
	Given the projections $p_X:X\times Y \to X$ and $p_Y:X\times Y \to Y$, we can define the ``cross product'' $\mu: H^*(X;R)\otimes_R H^*(Y;R) \to H^*(X\times Y)$ by taking the cup product of the pullbacks:
	$$
	\mu: (\a,\b)\mapsto p^*_X(\a)\smile p_Y^*(\b).
	$$
	The important fact is that if $X,Y$ are CW complexes and $H^*(Y;R)$ is free and finitely-generated, then this map is an isomorphism. 
	\begin{proof}
		Fixing $Y$, we have the following two functors from CW pairs $(X,A)$ to rings:
		$$h^n(X,A):= \bigoplus_i H^i(X,A) \otimes_R H^{n-i}(Y).$$
		$$
		k^n(X,A) := H^n(X\times Y,A\times Y).
		$$
		Both $h^*$ and $k^*$ satisfy the algebraic axioms for cohomology theories for CW pairs; that is, they are homotopy invariant, satisfy excision, etc. Also $\mu$ induces a map between $h^*\to k^*$ of a CW pair. $\mu$ is a natural transformation. To show the result is to show that $\mu$ is an isomorphism for $A=\emptyset$. We have to use the five lemma to induct on dimension. (read Hatcher for details).
	\end{proof}\\
	
		\subsection{How to compute (note to myself)} If we have a space $X$ and want to calculate $H_*(X)$ or $H^*(X;G)$ for some $G$, how do we do that in practice? We've learned some techniques, which I recap here.\\
		
		Calculating Homology:
		\begin{itemize}
			\item Know the most essential cases:
				\begin{align*} 
				H_*(\RP^n) &= \begin{cases}
				(\Z,\Z_2,0,\Z_2,0,\Z_2,0,\dots,\Z_2,0,\Z) & n \text{ odd},\\
				(\Z,\Z_2,0,\Z_2,0,\Z_2,0,\dots,\Z_2,0) & n \text{ even}.
			\end{cases}\\
			H_*(\CP^n) &= \begin{cases}
				(\Z,0,\Z,0,\Z,0,\dots,\Z,0,\Z) & n \text{ odd},\\
				(\Z,0,\Z,0,\Z,0,\dots,\Z,0)  & n \text{ even}.
			\end{cases}\\
			H_*(S^n) &= (\Z,0,0,\dots,0,0,\Z).\\
			H_*(M(G,n)) &= (\Z,0,0,\dots,0,0,G).
			\end{align*}
			\item Use Cellular Homology. If $X$ is a CW complex, we can express it in terms of its skeleta and attaching maps. The cellular homology of $X$ is the quotients of the exact sequence
			$$
			\cdots \to H_{n+1}(X^{n+1},X^n) \xrightarrow{d_{n+1}} H_n(X^n,X^{n-1})\xrightarrow{d_{n}} H_{n-1}(X^{n-1},X^{n-2}) \to \cdots 
			$$
			This is actually the easiest way to compute homology (usually). That's because each of these $H_j(X^j,X^{j-1})$ is $\Z^c$ where $c$ is the number of cells in dimension $j$. So each map $d_j$ is essentially a linear map. And moreover, $d_j$ can be determined entirely from the degrees of the attaching maps (say more later).
		\end{itemize}
	
	Calculating Cohomology:
	\begin{itemize}
		\item First, is $H_*(X)$ easy to calculate or known to you already? If so, then use Universal Coefficient Theorem:
		$$
		H^j(X;G) = \Hom(H_j(X),G)\oplus \Ext(H_{j-1}(X),G).
		$$
		How to calculate Ext? Each $H_k(X)$ is an Abelian group, so it has some free parts and some torsion parts. If $H_k(X)=\Z^a \oplus (\Z_2)^{b_2}\oplus (\Z_3)
		^{b_3} \oplus (\Z_5)^{b_5}\oplus \cdots $ then 
		$$
		\Ext(H_k(X);G) = (G/(2G))^{b_2} \oplus (G/(3G))^{b_3}\oplus (G/(5G))^{b_5}\cdots
		$$
		(note that the free part $\Z^a$ is dropped entirely).
		\item If it's not easy to calculate $H_*(X)$ then there's basically only one other thing you can do. If you're in the specific case that $G=R$ a ring, and $X=A\times B$, and $H^*(A;R),H^*(B;R)$ are both known, and finally $H^*(B;R)$ is free in every dimension, then you can apply the K\"unneth formula:
		$$
		H^*(X;R) = H^*(A\times B;R) = H^*(A;R)\otimes_R H^*(B;R).
		$$
	\end{itemize}
	
	
	\subsection{Poincare Duality} Let $M^n$ be an $n$-dimensional manifold. The homology of $M^n$ relative to a given point $x$ is 
	$$
	H_i(M,M-x) \cong H_i(\R^n,\R^n-x) \cong \widetilde{H}_{i-1}(\R^n - x) \cong \widetilde{H}_{i-1}(S^{n-1})
	$$
	by excision and so on. We define the space $\widetilde{M}$ as the space of all local orientations on $M$. This is actually a degree 2 covering space of $M$, given a certain topology. It is two-sheeted because there are two local orientations possible for any point $x\in M$. $\widetilde{M}$ is oriented.
	
	For example, in the case that $M=\RP^n$, then $\widetilde{M}=S^n$.\\
	
	\textbf{Poincare Duality (version 1)}: Suppose $M^n$ is a closed and oriented manifold. Then $$H_i(M;\Z) \cong H^{n-i}(M;\Z).$$
	\begin{proof}
%		We will show that $H^n(M;Z)\cong \Z$ if $M$ is orientable and 0 otherwise.\\
		
		Let $C$ be a sufficiently ``nice'' cell decomposition of $M$, and let $C^*$ be the dual cell decomposition. This produces a correspondence between $i$-dimensional cells of $C$ and $(n-i)$-dimensional cells of $C^*$. Moreover, this correspondence induces an isomorphism of chain groups. Then we can identify the homology of $C^*$ with the cohomology of $C$. (I am omitting details here).
	\end{proof}\\
	
	As a consequence, we can use Euler characteristic to say some things in low dimensions. For example if $M^3$ is a 3-dimensional manifold (not necessarily orientable!) then $\chi(M)=0$ because $\chi(\widetilde{M})=2\chi(M)=0$ (oriented manifolds in odd dimension have Euler characteristic 0). If $M$ is connected, then $H_0=\Z$. Poincare duality implies $H_3=0$. This leaves 
	$$
	\chi(M) = 1 - \rk(H_1) + \rk(H_2) - 0 = 0 
	$$
	which implies $\rk(H_1)\geq 1$. That is, $\pi_1(M)$ has some map into $\Z$. Where does it come from? Mysterious.\\
	
	Important idea: $M$ being \textit{orientable} is equivalent to the $n$th homology being $\Z^k$ where $k$ is the number of connected components (the single generator is the sum of all $n$-cells with compatible orientation). Thus Poincar\'e duality gives $H^0(M;\Z)=\Z^k$.\\
	
	But what does this map $H_i(M;Z)\to H^{n-i}(M;\Z)$ actually look like? To answer this, we first need a pairing between homology and cohomology, which is called the \textit{cap product}:
	$$
	\frown : C_k(X)\times C^{\ell}(X)\to C_{k-\ell}(X)
	$$
	(assuming $k>\ell$)via 
	$$
	\sigma \frown \ph = \ph(\sigma | [v_0,\dots,v_{\ell}]) \cdot [v_{\ell},\dots,v_{k}]
	$$
	that is, we're ``feeding the front face" of $\sigma$ to $\ph$. Some properties:
	\begin{itemize}
		\item $\partial(\sigma \frown \ph)=(-1)^{\ell}(\partial \sigma \frown \ph - \sigma \frown \de \ph)$.
		\item The cap product of a cycle and cocycle is a cycle.
		\item The cap product of a boundary with a cocycle or cycle with coboundary is a boundary.
		\item As a result, the cap product induces a map on homology and cohomology, as we wanted.
	\end{itemize}
	
	We also have relative cup products
	$$
	H_k(X,A)\times H^{\ell}(X) \to H_{k-\ell}(X,A) 
	$$
	$$
	H_k(X)\times H^{\ell}(X,A)\to H_{k-\ell}(X,A)
	$$
	$$
	H_k(X,A)\times H^{\ell}(X,A) \to H_{k-\ell}(X)
	$$
	this last one is sort of surprising. The cap product is \textit{natural}, which in this case means that it commutes with maps induced by some $f:X\to Y$ on $H_k$ and $H^{\ell}$.\\
	
	
	\textbf{Poincar\'e Duality (version 2)}: Let $M$ be a closed oriented $n$-manifold. Then the map
	$$
	D:H^k(M)\to H_{n-k}(M)
	$$
	given by $D:\a\mapsto [M]\frown \a$, where $[M]\in H_n(M)=\Z$ is a generator.\\
	
	To extend this result to manifolds that are not necessarily compact, we need to establish a cohomology theory for non-compact spaces, which will be \textit{cohomology with compact support}. For a compact set $K\subset X$, there is a relative cohomology $H^*(X,X-K)$ which we can also denote $H^*(X|K)$. We take a direct limit over all compact $K$ in $X$:
	$$
	H^i_c(X) := \lim_{K\subset X} H^i(X|K)
	$$
	This is cohomology with compact support. Directed limits are essentially countable ascending unions. Direct limit is an exact functor! Also note that to compute direct limits it suffices to take some cofinal sequence of compact sets like a sequence of closed balls $B_n$.\\
	
	\textbf{Poincar\'e Duality (version 3)}: Let $M$ be an oriented $n$-manifold, and let the map 
	$$
	D_M:H^i_c(M)\to H_{n-i}(M)
	$$
	be defined by taking the direct limit of maps $D_K:H^i(M|K)\to H_{n-k}(M)$ over all compact $K\subset M$. This is an isomorphism.
	\begin{proof}
		Let $(\ast)$ be the statement that $D_M$ is an isomorphism. We can first show that if $(\ast)$ holds for $U,V,U\cap V$ then $(\ast)$ holds for $U\cup V$ as well, using Mayer-Vietoris.\\
		
		Next, we show that if $(\ast)$ holds for an increasing chain of open sets $U_i$ whose union is $M$, then $(\ast)$ holds for $M$. This is because for every compact $K$, there will be some $U_i$ for which $K\subset U_i$, and thus $H^i(U_i|K) = H^i(M|K)$.
	\end{proof}
	
\section{Higher Homotopy Groups} Let $X$ be a space with basepoint $x$. The $n$th homotopy group $\pi_n(X,x)$ is defined to be the set of homotopy classes of maps 
$$
f:(I^n,\partial I^n)\to (X,x).
$$
The group operation on $\pi_n(X,x)$ is given by concatenation along the first coordinate, similarly to the way that homotopy classes of paths are composed.\\

For $n\geq 2$, the homotopy groups are always Abelian. This is roughly because in dimension $2$ there is ``enough room'' to swap $f+g$ around to $g+f$. A picture in Hatcher explains this well.\\

For any path $\b$ connecting $x$ to $x'$, it induces a map
$$
\b_*: \pi(X,x')\to \pi(X,x).
$$
This $\b_*$ is in fact a group isomorphism, and it only depends on the homotopy class of $\b$ (rel endpoints). This shows that $\pi_n(X,x)$ only depends on the connected component of $x$.\\

Now we collect some facts about $\pi_n(X,x)$:

\begin{itemize}
	\item $\pi_n(X,x)\cong \pi_n(X,x')$ if $x,x'$ are in the same path component.
	\item This also gives $\pi_n(X,x)$ the structure of a $\Z[\pi_1(X,x)]$-module. 
	\item $\pi_n$ is a functor in the category of based spaces.
	\item If $p:(X',x')\to (X,x)$ is a covering space, then $p$ induces an isomorphism $p_*:\pi_n(X',x')\to \pi_n(X,x)$ for $n\geq 2$.
	\item As a corollary, this shows that $\pi_n(X)$ is trivial if $X$ is a $K(\pi,1)$ (for $n\geq 2$). 
\end{itemize}

Generally speaking, $\pi_n$ gets more structured for higher $n$. $\pi_0$ is just a set (the collection of path components), $\pi_1$ a group, $\pi_2$ an abelian group, and so on.

\subsection{Relative Homotopy Groups} Let $J^{n-1}$ be the boundary of $I^n$ but excluding one face $I^{n-1}$. For $x\in A\subset X$, we define the relative homotopy group
$$
\pi_n(X,A,x) := \{\text{homotopy classes of maps} \; f:(I^n,\partial I^n,J^{n-1})\to (X,A,x)\}
$$
so in other words the maps which map a given face into $A$ while sending the rest of the boundary to $x$. Note that for $n=1$ this doesn't really work; $I^{n-1}$ is just a point so it would already be forced to $x$, so this isn't a group.\\

$\pi_n(X,A,x)$ is a group for $n\geq 2$, where the operation is by concatenation, sticking the $I^{n-1}$ faces next to each other. For $n\geq 3$ it is abelian, same reason why $\pi_2(X)$ is abelian.\\

A map $f:(D^n,S^{n-1},p)\to (X,A,x)$ is homotopic to 0 in $\pi_n(X,A,x)$ iff $f$ is homotopic rel $S^{n-1}$ into $A$.\\

Relative homotopy groups are useful because they produce long exact sequences:
$$
\begin{tikzcd}
	\cdots & {\pi_n(A,x)} & {\pi_n(X,x)} & {\pi_n(X,A,x)} & {\pi_{n-1}(A,x)} & \cdots
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow[from=1-5, to=1-6]
\end{tikzcd}
$$
This even goes down to $\pi_0(X,x)$. To show that this is an exact sequence is actually not very hard, though it is better explained pictorally.\\

\textbf{Whitehead's Theorem}: If $f:X\to Y$ is a map between connected CW complexes and $f_*:\pi_n(X)\to\pi_n(Y)$ is an isomorphism for all $n$ then $f$ is a homotopy equivalence (the converse is also clearly true). Further, if $f$ is an inclusion, then $Y$ deformation retracts to $X$.
\begin{proof}
	Let's handle the inclusion case first. Given $i:X\xhra{} Y$, we have
	$$
	\pi_n(X)\to \pi_n(Y)\to\pi_n(Y,X)\to\pi_{n-1}(X)\to\cdots
	$$
	Assuming that the induced maps $\pi_n(X)\to\pi_n(Y)$ are all isomorphisms, we see that $\pi_n(X,Y)$ are all 0. But this immediately implies that there is a retraction $Y\to X$ locally in each $n$-cell, and hence a deformation retraction $Y\to X$.\\
	
	To show the general case, we can replace $Y$ by $M_f$, which is a homotopy equivalence, and $M_f$ can retract into $X$ if we know that every map between CW complexes is homotopy equivalent to a cellular map.
\end{proof}\\

Another application: let $p\in X\subset CX$ where $CX$ is the cone on $X$. The long exact sequence given by $CX,X$ has $\pi_n(CX)$ trivial, which shows that $\pi_n(CX,X,x)\cong \pi_{n-1}(X,x)$. Incidentally this shows that $\pi_2(CX,X,x)$ can be any abelian group.\\

Caution! Excision does not work for higher homotopy groups. If it did, then $\pi_n(D^2,S^1)\cong \pi_n(S^2)$ so $\pi_3(S^2)$ is trivial (from the long exact sequence). But we can explicitly give a nontrivial element of $\pi_3(S^2)$: \textit{fill in later}. It turns out that $\pi_3(S^2)=\Z$.\\

\textbf{Proposition}: Let $X':= X\cup_{\ph} e^n$, i.e. $X$ with some $n$-cell $e^n$ attached via $\ph$. Then the inclusion $X\xhra{} X'$ induces a map $\pi_i(X)\to \pi_i(X')$ which is an isomorphism for $i< n-1$ and surjection for $i=n-1$.
\begin{proof}
	Caution!! Mayer-Vietoris does not apply here because we're talking about homotopy groups not homology groups. Check proof later in Hatcher.
\end{proof}\\

\textbf{Proposition}: Suppose $(X,A)$ is an $n$-connected (meaning $\pi_1(X,A)=0$ for $i\leq n$) CW pair. Then there is a pair $(Z,A)$ homotopic to $(X,A)$ for which all cells of $Z-A$ are dimension greater than $n$.
\begin{proof}
	The $n$-connected property implies by the long exact sequence that $\pi_i(A)\cong \pi_i(X)$ for $i<n$. For $i=n$ we get that $\pi_n(A)\to \pi_n(X)$ is a surjection. Adding $(n+1)$-cells can only add new relations to $\pi_n(A)$ and can't affect $\pi_{<n}(A)$ by the previous proposition, so we can add $(n+1)$-cells to $A$ to get $Y$ for which $\pi_n(Y)=\pi_n(X)$. Then we can also add more $(n+1)$-cells to make $\pi_{n+1}(Y)\to \pi_{n+1}(X)$ surjective. Then repeat with $(n+2)$ and so on.
\end{proof}\\

\textbf{Excision for CW pairs}: Let $X=A\cup B$ and $A\cap B = C$, and suppose $C$ is connected. If $(A,C)$ is $m$-connected and $(B,C)$ is $n$-connected, then 
$$
\pi_i(A,C)\to\pi_i(X,B)
$$
is an isomorphism for $i<m+n$ and a surjection for $i=m+n$. Note that this would be an isomorphism for all $i$ if we were talking about Homology, but here it's different.
\begin{proof}
	We begin with the simplest case where $A$ is $C$ with some attached $(m+1)$-cells and $B$ is $C$ with \textit{exactly one} attached $(n+1)$-cell.\\
	
	We can pick points $p_{\a}$ in each $(m+1)$-cell of $A$ and a point $q$ in the $(n+1)$-cell of $B$. We want to take a map $f:S^i\to (X,B)$ in $\pi_i(X,B)$ and push it off of $q$ while avoiding all points $p_{\a}$. After this is done, we can retract away from all of these points. The key thing is the dimension of the fibers $f^{-1}(p_{\a})$ and $f^{-1}(q)$ which are $i-m-1$ and $i-n-1$ respectively. To do this we need
	$$
	(i - m - 1) + (i-n-1) < i-1 \iff i < m+n + 1.
	$$
	This shows the surjection case. To show the isomorphism turns out to require one more dimension, so we require $i<m+n$.\\
	
	In general, adding higher-dimensional cells does not make this much harder because they only decrease (not increase) the dimension of the fiber of the points $q$ and $p_{\a}$.
\end{proof}\\

\textbf{Corollary (Freudenthal Suspension)}: If $S^i\to X$, then we get a map $\pi_i(X)\to \pi_{i+1}(SX)$. If $X$ is $(n-1)$-connected, then this map is an isomorphism for $i<2n-1$ and surjective for $i=2n-1$. It follows that the maps
$$
\pi_i(X)\to \pi_{i+1}(SX)\to \cdots \to \pi_{i+n}(S^nX) \to \cdots 
$$
eventually stabilize, and thus we can define 
$$
\pi_i^S(X) := \lim_{n\to\infty} \pi_{i+n}(S^nX)
$$
the \textit{stable homotopy group} of $X$.\footnote{What is $\pi_i^S(S^0)$ in general? This is unsolved.}\\

Examples:
\begin{itemize}
	\item Consider $\pi_i(S^n)$. For $i<n$, it is trivial. For $i=n$, $\pi_n(S^n)=\Z$.
	\item $\pi_n(\vee S^n_{\a})=\oplus_{\a} \Z$.
	\item $\pi_n(S^1\vee S^n)$ is $\pi_n$ of the universal cover of $S^1\vee S^n$, which is a line with $\Z$-many $n$-spheres sticking to it. This is homotopic to $\vee_{\Z} S^n$, which has $\pi_n=\oplus_{\infty}\Z$.
	\item If $(X,A)$ is an $r$-connected CW pair, and $A$ is $s$-connected, then the quotient $X,A\to X/A$ induces a map 
	$$
	\pi_i(X,A)\to \pi_i(X/A)
	$$ 
	and this is isomorphic for $i\leq r+s$ and surjective for $i=r+s+1$. This follows from our excision theorem on $(CA,A)$ which is $(s+1)$-connected and $(X,A)$ which is $r$-connected.
	\item Let $X=\vee_{\a} S^n_{\a}$ with $(n+1)$-cells $e_{\b}$ attached via some $\ph_{\b}:S^n\to \vee S^n_{\a}$. We have
	$$
	\pi_n(X) = \oplus_{\a}\Z/\<\ph_{\b}\>
	$$ 
\end{itemize}

\textbf{Hurewicz Theorem}: Suppose $X$ is $(n-1)$-connected where $n\geq 2$. Then 
\begin{itemize}
	\item $\tilde{H_i}(X)=0$ for $i<n$.
	\item $\pi_n(X)\cong H_n(X)$.
\end{itemize}
 If $(X,A)$ is $(n-1)$-connected and $A$ is simply-connected and nonempty, then 
 \begin{itemize}
 	\item $H_i(X,A) = 0$ for $i<n$,
 	\item $\pi_n(X,A)\cong H_n(X,A)$.
 \end{itemize}
\begin{proof}
	The relative case follows from the absolute case.\\
	
	Wlog, we can consider $X$ as a wedge of $n$-cells and $(n+1)$-cells (nothing else affects homology or $\pi_n$). We've already seen that 
	$$
	\pi_n = \oplus_{\a} \Z / \<\ph_{\b}\>,
	$$
	and $H_n$ is the same thing.
\end{proof}\\
	
	Note that this is all heavily dependent on $\pi_1(X)=0$.\\
	
\textbf{Corollary}: Suppose $X,Y$ are simply connected. Then a map $f:X\to Y$ is a homotopy equivalence iff the induced map $f_*:H_*(X)\to H_*(Y)$ is an isomorphism in every dimension.
\begin{proof}
	One direction is clear.\\
	
	Supposing $f_*$ is an isomorphism in every dimension, $H_*(Y,X)\cong 0$ in every dimension, so by Hurewicz's theorem $\pi_*(Y,X)=0$, and by Whitehead's theorem $f$ is a homotopy equivalence.
\end{proof}\\

\textbf{Corollary}: Let $M^3$ be a closed 3-manifold that is simply connected. Then $M^3\simeq S^3$.
\begin{proof}
	We can take the map from homework which is degree-1 to $S^3$ and show in each dimension $0,1,2,3$ that it induces an isomorphism on $H_*$. Thus by the previous corollary we see that $f$ is actually a homotopy equivalence to $S^3$.
\end{proof}
\end{document}